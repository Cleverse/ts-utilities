{"version":3,"sources":["/home/runner/work/ts-utilities/ts-utilities/dist/chunk-WJXWAYMP.cjs","../src/utils/miscellaneous/sleep.ts"],"names":[],"mappings":"AAAA;AACE;AACF,wDAA6B;AAC7B;AACA;ACJA,8CAAA,CAAA;AAAA,gCAAiC;AAQ1B,IAAM,MAAA,EAAQ,CAAC,EAAA,EAAY,MAAA,EAAA,GAAwC;AACzE,EAAA,GAAA,iBAAI,MAAA,2BAAQ,SAAA,EAAS;AACpB,IAAA,OAAO,OAAA,CAAQ,OAAA,CAAQ,CAAA;AAAA,EACxB;AACA,EAAA,OAAO,IAAI,OAAA,CAAc,CAAC,OAAA,EAAA,GAAY;AACrC,IAAA,MAAM,MAAA,EAAQ,UAAA,CAAW,OAAA,EAAS,EAAE,CAAA;AACpC,IAAA,GAAA,CAAI,MAAA,EAAQ;AACX,MAAA,MAAM,WAAA,EAAa,sCAAA,MAAiB,EAAQ,CAAA,EAAA,GAAM;AACjD,QAAA,YAAA,CAAa,KAAK,CAAA;AAClB,QAAA,UAAA,CAAW,MAAA,CAAO,OAAO,CAAA,CAAE,CAAA;AAC3B,QAAA,OAAA,CAAQ,CAAA;AAAA,MACT,CAAC,CAAA;AAAA,IACF;AAAA,EACD,CAAC,CAAA;AACF,CAAA;AAQO,IAAM,MAAA,EAAQ,KAAA;ADPrB;AACA;AACE;AACA;AACF,6CAAC","file":"/home/runner/work/ts-utilities/ts-utilities/dist/chunk-WJXWAYMP.cjs","sourcesContent":[null,"import { addAbortListener } from \"node:events\"\n\n/**\n * Sleep for a given number of milliseconds with cancellation support and memory-safe implementation.\n *\n * @param {number} ms time to sleep in milliseconds\n * @param {?AbortSignal} [signal] optional abort signal to cancel the sleep\n */\nexport const sleep = (ms: number, signal?: AbortSignal): Promise<void> => {\n\tif (signal?.aborted) {\n\t\treturn Promise.resolve()\n\t}\n\treturn new Promise<void>((resolve) => {\n\t\tconst timer = setTimeout(resolve, ms)\n\t\tif (signal) {\n\t\t\tconst disposable = addAbortListener(signal, () => {\n\t\t\t\tclearTimeout(timer)\n\t\t\t\tdisposable[Symbol.dispose]()\n\t\t\t\tresolve()\n\t\t\t})\n\t\t}\n\t})\n}\n\n/**\n * Sleep for a given number of milliseconds with cancellation support and memory-safe implementation.\n *\n * @param {number} ms time to sleep in milliseconds\n * @param {?AbortSignal} [signal] optional abort signal to cancel the sleep\n */\nexport const delay = sleep\n"]}